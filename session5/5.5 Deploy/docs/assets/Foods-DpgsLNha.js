import{r as o,f as i,j as e}from"./index-CcqLitqe.js";function f(n){const[t,r]=o.useState(1),[l,d]=o.useState(!1),[s,c]=o.useState(null),u=o.useContext(i),m=(Number(t)*n.food.price).toFixed(2),h=a=>{const j=Math.max(1,parseInt(a.target.value)||1);r(j),c(null)},x=()=>{if(t>n.food.quantity){c("No hay inventario suficiente.");return}u.map(a=>(a.id===n.food.id&&(a.quantity-=t),a)),d(!0)};return e.jsxs("div",{className:"food-order-card",children:[e.jsx("h4",{children:n.food.desc}),e.jsxs("p",{className:"price",children:[m,"€"]}),e.jsxs("div",{className:"order-controls",children:[e.jsx("label",{htmlFor:"quantity",children:"Cantidad"}),e.jsx("input",{id:"quantity",type:"number",value:t,min:"1",onChange:h}),e.jsx("input",{type:"text",placeholder:"Tu nombre",className:"order-name"}),e.jsx("input",{type:"tel",placeholder:"Tu teléfono",className:"order-phone"})]}),s&&e.jsx("p",{className:"error-message",style:{color:"red"},children:s}),e.jsxs("div",{className:"order-buttons",children:[e.jsx("button",{className:"submit-button",onClick:x,children:"Enviar Pedido"}),e.jsx("button",{className:"return-button",onClick:n.onReturnToMenu,children:"Volver al menú"})]}),l&&!s&&e.jsx("p",{className:"confirmation-message",children:"SU PEDIDO HA SIDO ENVIADO CORRECTAMENTE."})]})}function p(){const n=o.useContext(i),[t,r]=o.useState(null),l=s=>{r(t===s?null:s)},d=()=>{r(null)};return e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"foodTitle",children:"Choose from our Menu"}),e.jsx("ul",{className:"ulFoods",children:n.map(s=>e.jsxs("li",{className:"liFoods",children:[e.jsxs("div",{onClick:()=>l(s.id),children:[e.jsx("img",{className:"foodImg",src:`/images/${s.image}`,alt:s.name}),e.jsxs("div",{className:"foodItem",children:[e.jsx("p",{className:"foodDesc",children:s.desc}),e.jsxs("p",{className:"foodPrice",children:[s.price,"€"]})]})]}),t===s.id&&e.jsx("div",{className:"foodOrderWrapper",children:e.jsx(f,{food:s,onReturnToMenu:d})})]},s.id))})]})}export{p as default};
